# ğŸ§ª ãƒ†ã‚¹ãƒˆãƒ»æ¤œè¨¼ã‚¬ã‚¤ãƒ‰

## ğŸ“‹ æ¦‚è¦

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ãƒ¡ã‚¿æƒ…å ±ã¨æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã®çµ±åˆã‚’è‡ªå‹•æ¤œè¨¼ãƒ»ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨ãƒ†ã‚¹ãƒˆã‚’ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚

## ğŸ” æ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### ä½¿ç”¨æ–¹æ³•

```bash
# ãƒ¡ã‚¿æƒ…å ±ãƒ»æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ã‚’æ¤œè¨¼
npm run verify:metadata
```

### æ¤œè¨¼å†…å®¹

1. **Import æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯**
   - å…¨ãƒšãƒ¼ã‚¸ã§ `generateMetadata` / JSON-LD é–¢æ•°ã® import å…ƒãŒæ­£ã—ã„ã‹
   - `@/lib/metadata` ã¾ãŸã¯ `@/lib/structuredData` ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã‹

2. **é‡è¤‡å®šç¾©ãƒã‚§ãƒƒã‚¯**
   - ãƒšãƒ¼ã‚¸å†…ã§ç›´æ¥ `metadata` ã‚„ JSON-LD ã‚’å®šç¾©ã—ã¦ã„ãªã„ã‹
   - `lib/metadata.ts` ã‚„ `lib/structuredData.ts` ã®é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‹

3. **å¾ªç’°å‚ç…§ãƒã‚§ãƒƒã‚¯**
   - `metadata.ts` ã¨ `structuredData.ts` ã®é–“ã«å¾ªç’°å‚ç…§ãŒãªã„ã‹

4. **æ—§é–¢æ•°æ¤œå‡º**
   - éæ¨å¥¨ã®é–¢æ•°åãŒä½¿ç”¨ã•ã‚Œã¦ã„ãªã„ã‹

5. **Export ç¢ºèª**
   - å¿…è¦ãªé–¢æ•°ãŒã™ã¹ã¦ export ã•ã‚Œã¦ã„ã‚‹ã‹

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# Vitest ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆåˆå›ã®ã¿ï¼‰
npm install -D vitest @vitest/ui
```

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# å…¨ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
npm run test

# ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ã‚’æ¤œçŸ¥ã—ã¦è‡ªå‹•å®Ÿè¡Œï¼‰
npm run test:watch

# UIãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒ†ã‚¹ãƒˆçµæœã‚’ç¢ºèªï¼‰
npm run test:ui
```

### ãƒ†ã‚¹ãƒˆå†…å®¹

#### ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆé–¢æ•°ã®ãƒ†ã‚¹ãƒˆ
- `generateKanjiMetadata()` - æ¼¢å­—ãƒšãƒ¼ã‚¸ç”¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
- `generateKanjiPracticeMetadata()` - æ›¸ãå–ã‚Šãƒ†ã‚¹ãƒˆç”¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
- `generatePageMetadata()` - æ±ç”¨ãƒšãƒ¼ã‚¸ç”¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
- `generateGradeMetadata()` - å­¦å¹´ãƒšãƒ¼ã‚¸ç”¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
- `generateStrokesMetadata()` - ç”»æ•°ãƒšãƒ¼ã‚¸ç”¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
- `generateRadicalMetadata()` - éƒ¨é¦–ãƒšãƒ¼ã‚¸ç”¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿

#### æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ï¼ˆJSON-LDï¼‰é–¢æ•°ã®ãƒ†ã‚¹ãƒˆ
- `getTopPageJsonLd()` - ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ç”¨
- `getKanjiJsonLd()` - æ¼¢å­—ãƒšãƒ¼ã‚¸ç”¨
- `getKanjiItemJsonLd()` - æ¼¢å­—ãƒšãƒ¼ã‚¸ç”¨ï¼ˆãƒ©ãƒ³ã‚­ãƒ³ã‚°é€£æºç‰ˆï¼‰
- `getKanjiPracticeJsonLd()` - æ›¸ãå–ã‚Šãƒ†ã‚¹ãƒˆç”¨
- `getRankingJsonLd()` - ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒšãƒ¼ã‚¸ç”¨
- `getRankingSeriesJsonLd()` - ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚·ãƒªãƒ¼ã‚ºç”¨
- `getArticleJsonLd()` - è¨˜äº‹ãƒšãƒ¼ã‚¸ç”¨
- `getKanjiDefinedTermJsonLd()` - æ¼¢å­—ãƒšãƒ¼ã‚¸ç”¨ï¼ˆDefinedTermç‰ˆï¼‰

#### çµ±åˆãƒ†ã‚¹ãƒˆ
- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã¨ JSON-LD ã® URL æ•´åˆæ€§
- ã‚¿ã‚¤ãƒˆãƒ«ã¨åå‰ã®æ•´åˆæ€§

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
.
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ verify-metadata-imports.ts  # æ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ metadataStructuredData.spec.ts  # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ vitest.config.ts                # Vitestè¨­å®š
â””â”€â”€ VERIFICATION_REPORT.md          # æ¤œè¨¼çµæœãƒ¬ãƒãƒ¼ãƒˆ
```

## âœ… æˆåŠŸåŸºæº–

- âœ… æ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒã‚¨ãƒ©ãƒ¼ãªã—ã§å®Ÿè¡Œå®Œäº†
- âœ… ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒ PASS
- âœ… å¾ªç’°å‚ç…§ãŒãªã„
- âœ… ã™ã¹ã¦ã®ãƒšãƒ¼ã‚¸ã§çµ±ä¸€ã•ã‚ŒãŸ import ã‚’ä½¿ç”¨

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### æ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å ´åˆ

1. **Import ã‚¨ãƒ©ãƒ¼**
   - `@/lib/metadata` ã¾ãŸã¯ `@/lib/structuredData` ã‹ã‚‰æ­£ã—ãã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã‹ç¢ºèª
   - ãƒšãƒ¼ã‚¸å†…ã§ç›´æ¥å®šç¾©ã—ã¦ã„ãªã„ã‹ç¢ºèª

2. **å¾ªç’°å‚ç…§ã‚¨ãƒ©ãƒ¼**
   - `metadata.ts` ãŒ `structuredData.ts` ã‚’ import ã™ã‚‹ã®ã¯ OK
   - é€†æ–¹å‘ï¼ˆ`structuredData.ts` â†’ `metadata.ts`ï¼‰ã¯ NG

### ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹å ´åˆ

1. **é–¢æ•°ãŒè¦‹ã¤ã‹ã‚‰ãªã„**
   - `lib/metadata.ts` ã¾ãŸã¯ `lib/structuredData.ts` ã«é–¢æ•°ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
   - export ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

2. **å‹ã‚¨ãƒ©ãƒ¼**
   - TypeScript ã®å‹å®šç¾©ãŒæ­£ã—ã„ã‹ç¢ºèª
   - `vitest.config.ts` ã® alias è¨­å®šãŒæ­£ã—ã„ã‹ç¢ºèª

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

- [Vitest å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://vitest.dev/)
- [Next.js Metadata API](https://nextjs.org/docs/app/api-reference/functions/generate-metadata)
- [Schema.org JSON-LD](https://schema.org/docs/gs.html)






